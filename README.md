# Build a Personalized AI Newsletter SaaS with Next.js & Supabase

<div align="center">
  <br />
  <a href="https://youtu.be/ugxI1o5SyMs" target="_blank">
    <img width="1280" height="720" alt="Copy of Copy of Copy of Copy of Copy of Copy of Copy of Copy of Copy of Copy of Copy of Copy of Copy of Copy of Copy of Copy of Copy of Copy of Copy of 10,000 REACT COMPONENTS (2)" src="https://github.com/user-attachments/assets/07311922-ae83-42a1-99c7-cfd243ebbe2c" />

  </a>
  <br />
  <div>
    <img src="https://img.shields.io/badge/-Next.js-000000?style=for-the-badge&logo=next.js&logoColor=white" alt="Next.js" />
    <img src="https://img.shields.io/badge/-Supabase-3ECF8E?style=for-the-badge&logo=supabase&logoColor=white" alt="Supabase" />
    <img src="https://img.shields.io/badge/-OpenAI-412991?style=for-the-badge&logo=openai&logoColor=white" alt="OpenAI" />
    <img src="https://img.shields.io/badge/-Inngest-6366F1?style=for-the-badge&logo=inngest&logoColor=white" alt="Inngest" />
    <img src="https://img.shields.io/badge/-TailwindCSS-06B6D4?style=for-the-badge&logo=tailwindcss" alt="Tailwind CSS" />
  </div>
  <h3 align="center">Build a Personalized AI Newsletter SaaS with Next.js, Supabase, OpenAI & Inngest</h3>
  <div align="center">
    Follow the full video tutorial on  
    <a href="https://youtu.be/YOUR_VIDEO_ID" target="_blank"><b>YouTube</b></a>
  </div>
  <br />
</div>

## üìã Table of Contents

1. [Introduction](#-introduction)
2. [Tech Stack](#-tech-stack)
3. [Features](#-features)
4. [Quick Start](#-quick-start)
5. [Screenshots](#-screenshots)
6. [Deployment](#-deployment)

---

## üöÄ Introduction

In this tutorial, you'll learn how to build a production-ready **Personalized AI Newsletter SaaS** using **Next.js**, **Supabase**, **OpenAI**, **Inngest**, and **TailwindCSS**. You'll implement **AI-powered content generation**, **scheduled newsletters**, **user preferences management**, and **email delivery**, all deployed to Vercel.

üé• Watch the full tutorial: [YouTube](https://youtu.be/YOUR_VIDEO_ID)

---

## ‚öôÔ∏è Tech Stack

- **Next.js 15+** ‚Äì React framework with App Router & server components
- **Supabase** ‚Äì Hosted Postgres, authentication & real-time subscriptions
- **OpenAI GPT-4** ‚Äì AI-powered newsletter content generation
- **Inngest** ‚Äì Durable background jobs for newsletter scheduling
- **TailwindCSS** ‚Äì Utility-first styling
- **TypeScript** ‚Äì Static typing and developer tooling
- **EmailJS** ‚Äì Email delivery service
- **NewsAPI** ‚Äì News article fetching

---

## ‚ö°Ô∏è Features

- üéØ **Category Selection**
  Choose from 8 different news categories (Technology, Business, Sports, Entertainment, Science, Health, Politics, Environment).

- ü§ñ **AI-Powered Summarization**
  Uses OpenAI GPT-4 to create engaging, personalized newsletter content from recent news articles.

- ‚è∞ **Scheduled Delivery**
  Automatically sends newsletters at 9 AM based on user-selected frequency (daily, weekly, bi-weekly).

- üîÑ **Durable Workflows**
  Built with Inngest for reliable background processing and automatic retries.

- üë§ **User Management**
  User authentication, preference management, and newsletter activation/deactivation.

- üì± **Responsive Dashboard**
  Beautiful, mobile-friendly UI with real-time status updates and preference management.

- üí≥ **Subscription Billing**
  Stripe integration for premium features and subscription management.

- üìß **Email Delivery**
  Professional email templates with HTML formatting and tracking.

---

## üëå Quick Start

### Prerequisites

- [Node.js](https://nodejs.org/) (v18+)
- [Supabase CLI](https://supabase.com/docs/guides/cli)
- Supabase project (URL & ANON key)
- OpenAI API key
- Inngest account (signing key)
- NewsAPI key
- EmailJS account (service ID, template ID, public key)

### Supabase SQL Statements:

```sql
-- =========================================================
-- 1. User Preferences Table
-- =========================================================
CREATE TABLE IF NOT EXISTS public.user_preferences (
  id          bigint GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  created_at  timestamptz NOT NULL DEFAULT now(),
  updated_at  timestamptz NOT NULL DEFAULT now(),
  user_id     text NOT NULL UNIQUE,
  email       text NOT NULL,
  categories  text[] NOT NULL DEFAULT '{}',
  frequency   text NOT NULL DEFAULT 'weekly',
  is_active   boolean NOT NULL DEFAULT true
);

-- =========================================================
-- 2. Enable Row Level Security
-- =========================================================
ALTER TABLE public.user_preferences ENABLE ROW LEVEL SECURITY;

-- =========================================================
-- 3. Policies
-- =========================================================

-- Users can view their own preferences
CREATE POLICY "Users can view their own preferences"
ON public.user_preferences
FOR SELECT
USING (user_id = auth.uid()::text);

-- Users can insert their own preferences
CREATE POLICY "Users can insert their own preferences"
ON public.user_preferences
FOR INSERT
WITH CHECK (user_id = auth.uid()::text);

-- Users can update their own preferences
CREATE POLICY "Users can update their own preferences"
ON public.user_preferences
FOR UPDATE
USING (user_id = auth.uid()::text)
WITH CHECK (user_id = auth.uid()::text);

-- Users can delete their own preferences
CREATE POLICY "Users can delete their own preferences"
ON public.user_preferences
FOR DELETE
USING (user_id = auth.uid()::text);

-- =========================================================
-- 4. Indexes
-- =========================================================
CREATE INDEX IF NOT EXISTS idx_user_preferences_user_id ON public.user_preferences(user_id);
CREATE INDEX IF NOT EXISTS idx_user_preferences_is_active ON public.user_preferences(is_active);

-- =========================================================
-- 5. Updated At Trigger
-- =========================================================
CREATE OR REPLACE FUNCTION public.set_updated_at()
RETURNS trigger AS $$
BEGIN
  NEW.updated_at = now();
  RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS trg_user_preferences_updated_at ON public.user_preferences;
CREATE TRIGGER trg_user_preferences_updated_at
BEFORE UPDATE ON public.user_preferences
FOR EACH ROW EXECUTE FUNCTION public.set_updated_at();
```

### Clone and Run

```bash
git clone https://github.com/yourusername/personalized-newsletter.git
cd personalized-newsletter
npm install
```

1. Copy `env.example` to `.env.local` and fill in your API credentials:

```env
# OpenAI API Key for AI summarization
OPENAI_API_KEY=your_openai_api_key_here

# Inngest signing key for webhook verification
INGEST_SIGNING_KEY=your_inngest_signing_key_here

# News API key for fetching articles
NEWS_API_KEY=your_news_api_key_here

# EmailJS configuration for sending newsletters
EMAILJS_SERVICE_ID=your_emailjs_service_id_here
EMAILJS_TEMPLATE_ID=your_emailjs_template_id_here
EMAILJS_PUBLIC_KEY=your_emailjs_public_key_here

# Supabase configuration
NEXT_PUBLIC_SUPABASE_URL=your_supabase_url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key
SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key

# Stripe configuration
STRIPE_SECRET_KEY=your_stripe_secret_key
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=your_stripe_publishable_key
STRIPE_WEBHOOK_SECRET=your_stripe_webhook_secret
```

2. Start local Supabase emulation (optional):

   ```bash
   supabase start
   supabase db push
   ```

3. Run the development servers:

   ```bash
   # Terminal 1 - Next.js App
   npm run dev

   # Terminal 2 - Inngest Dev Server
   npx inngest dev
   ```

4. Open [http://localhost:3000](http://localhost:3000) in your browser.

---

## üîó Useful Links

- [Next.js Docs](https://nextjs.org/docs)
- [Supabase Docs](https://supabase.com/docs)
- [OpenAI API Docs](https://platform.openai.com/docs)
- [Inngest Docs](https://www.inngest.com/docs)
- [Tailwind CSS Docs](https://tailwindcss.com/docs)
- [EmailJS Docs](https://www.emailjs.com/docs)
- [Vercel](https://vercel.com/)

---

## üöÄ Deployment

### Vercel (Recommended)

1. Push your code to GitHub
2. Connect your repository to Vercel
3. Add environment variables in Vercel dashboard
4. Deploy

### Environment Variables for Production

Make sure to set these in your production environment:

- `OPENAI_API_KEY`
- `INGEST_SIGNING_KEY`
- `NEWS_API_KEY`
- `EMAILJS_SERVICE_ID`
- `EMAILJS_TEMPLATE_ID`
- `EMAILJS_PUBLIC_KEY`
- `NEXT_PUBLIC_SUPABASE_URL`
- `NEXT_PUBLIC_SUPABASE_ANON_KEY`
- `SUPABASE_SERVICE_ROLE_KEY`
- `STRIPE_SECRET_KEY`
- `NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY`
- `STRIPE_WEBHOOK_SECRET`

---

## üéØ Key Features Explained

### AI Newsletter Generation

The system fetches recent news articles from selected categories and uses OpenAI GPT-4 to create engaging, personalized summaries that are delivered via email.

### Scheduled Workflows

Inngest handles the scheduling and execution of newsletter generation, ensuring reliable delivery even if the system encounters temporary issues.

### User Preference Management

Users can select their preferred news categories, delivery frequency, and easily activate/deactivate their newsletter subscription.

### Real-time Dashboard

A beautiful dashboard shows current preferences, newsletter status, and provides easy management of all settings.

---

## ü§ù Contributing

1. Fork the repository
2. Create a feature branch
3. Make your changes
4. Test thoroughly
5. Submit a pull request

---

## üìÑ License

MIT License - see LICENSE file for details

---

## üÜò Support

For issues and questions:

- Check the [Inngest documentation](https://www.inngest.com/docs)
- Review [Next.js documentation](https://nextjs.org/docs)
- Open an issue in this repository

---

## üéâ Acknowledgments

- Built with [Next.js](https://nextjs.org/)
- Database powered by [Supabase](https://supabase.com/)
- AI powered by [OpenAI](https://openai.com/)
- Background jobs by [Inngest](https://www.inngest.com/)
- Styled with [Tailwind CSS](https://tailwindcss.com/)
- Deployed on [Vercel](https://vercel.com/)
